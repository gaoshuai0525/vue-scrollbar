{"version":3,"file":"vue-scrollbar.min.js","sources":["../src/components/scrollbar.vue"],"sourcesContent":["<template>\n    <div class=\"scrollbar\">\n        <div class=\"wrap\" ref=\"wrap\" @scroll=\"handleScroll\" @mousedown=\"clickTrackHandler($event)\">\n            <slot></slot>\n        </div>\n        <div class=\"scrollbar_bar\" ref=\"bar\" @mousedown=\"clickTrackHandler($event)\">\n            <div :style=renderStyle() @mousedown=\"clickThumbHandler($event)\" class=\"scrollbar__thumb\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n\n        data () {\n            return {\n                sizeHeight:'0',\n                move: '0',\n                axis: null\n            }\n        },\n        computed: {\n            wrap() {\n                return this.$refs.wrap;\n            }\n        },\n        created () {\n        },\n        mounted () {\n            this.update();\n            this.wrap.addEventListener('DOMNodeInserted', this.update, false)\n            this.wrap.addEventListener('DOMNodeRemoved', this.update, false)\n        },\n        watch: {\n        },\n        methods: {\n            clickThumbHandler(e) {\n                this.axis = e.y - e.currentTarget.getBoundingClientRect().top;\n                this.startDrag(e)\n            },\n            clickTrackHandler(e) {\n                this.axis = e.currentTarget.firstChild.getBoundingClientRect().height/2;\n                this.mouseMoveDocumentHandler(e)\n            },\n            startDrag(e) {\n                var vm = this;\n                e.stopPropagation();\n                e.preventDefault();\n                e.cancelBubble=true;\n                document.addEventListener('mousemove', vm.mouseMoveDocumentHandler, false);\n                document.addEventListener('mouseup', function () {\n                    document.removeEventListener('mousemove', vm.mouseMoveDocumentHandler, false)\n                }, false);\n            },\n            mouseMoveDocumentHandler(e){\n                if(!this.$refs.bar.contains(e.currentTarget)) return\n                var wrap = this.wrap;\n                var barOffset = this.$refs.bar.getBoundingClientRect();\n                this.move = (e.y - barOffset.top - this.axis) * barOffset.height / 100;\n                wrap.scrollTop = this.move * wrap.clientHeight / 100;\n                this.move = Math.min(this.move,(wrap.scrollHeight - wrap.clientHeight)*100/ wrap.clientHeight);\n                this.move = Math.max(0,this.move);\n            },\n            handleScroll() {\n                var wrap = this.wrap;\n                this.move = ((wrap.scrollTop * 100) / wrap.clientHeight);\n            },\n            update() {\n                this.$nextTick(()=>{\n                    let heightPercentage;\n                    var wrap = this.wrap;\n                    heightPercentage = (wrap.clientHeight * 100 / wrap.scrollHeight);\n                    this.sizeHeight = (heightPercentage < 100) ? (heightPercentage + '%') : '';\n                })\n            },\n            renderStyle() {\n                return {height: this.sizeHeight,transform: 'translateY('+this.move+'%)'}\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .scrollbar{\n        overflow: hidden\n    }\n    .wrap{\n        max-height: 300px;\n        overflow: scroll;\n        height:100%;\n        margin-right: -20px;\n        margin-bottom: -20px;\n    }\n    .scrollbar_bar{\n        position: absolute;\n        width: 6px;\n        top: 2px;\n        right: 2px;\n        bottom: 2px;\n        z-index: 1;\n        border-radius: 4px;\n        opacity: 0;\n        transition: opacity .12s ease-out;\n    }\n    .scrollbar:hover .scrollbar_bar{\n        opacity: 1;\n        transition: opacity 340ms ease-out;\n    }\n    .scrollbar__thumb{\n        transition: background-color .3s;\n        background-color: hsla(220,4%,58%,.3);\n    }\n</style>\n"],"names":["data","sizeHeight","move","axis","computed","wrap","this","$refs","created","mounted","update","addEventListener","watch","methods","clickThumbHandler","e","y","currentTarget","getBoundingClientRect","top","startDrag","clickTrackHandler","firstChild","height","mouseMoveDocumentHandler","vm","stopPropagation","preventDefault","cancelBubble","document","removeEventListener","bar","contains","barOffset","scrollTop","clientHeight","Math","min","scrollHeight","max","handleScroll","$nextTick","let","heightPercentage","renderStyle","transform"],"mappings":"cAAA,mzBAAA,GAYA,4XAEIA,gBACI,OACIC,WAAW,IACXC,KAAM,IACNC,KAAM,OAGdC,UACIC,gBACI,OAAOC,KAAKC,MAAMF,OAG1BG,qBAEAC,mBACIH,KAAKI,SACLJ,KAAKD,KAAKM,iBAAiB,kBAAmBL,KAAKI,QAAQ,GAC3DJ,KAAKD,KAAKM,iBAAiB,iBAAkBL,KAAKI,QAAQ,IAE9DE,SAEAC,SACIC,2BAAkBC,GACdT,KAAKH,KAAOY,EAAEC,EAAID,EAAEE,cAAcC,wBAAwBC,IAC1Db,KAAKc,UAAUL,IAEnBM,2BAAkBN,GACdT,KAAKH,KAAOY,EAAEE,cAAcK,WAAWJ,wBAAwBK,OAAO,EACtEjB,KAAKkB,yBAAyBT,IAElCK,mBAAUL,GACN,IAAIU,EAAKnB,KACTS,EAAEW,kBACFX,EAAEY,iBACFZ,EAAEa,cAAa,EACfC,SAASlB,iBAAiB,YAAac,EAAGD,0BAA0B,GACpEK,SAASlB,iBAAiB,UAAW,WACjCkB,SAASC,oBAAoB,YAAaL,EAAGD,0BAA0B,KACxE,IAEPA,kCAAyBT,GACrB,GAAIT,KAAKC,MAAMwB,IAAIC,SAASjB,EAAEE,eAA9B,CACA,IAAIZ,EAAOC,KAAKD,KACZ4B,EAAY3B,KAAKC,MAAMwB,IAAIb,wBAC/BZ,KAAKJ,MAAQa,EAAEC,EAAIiB,EAAUd,IAAMb,KAAKH,MAAQ8B,EAAUV,OAAS,IACnElB,EAAK6B,UAAY5B,KAAKJ,KAAOG,EAAK8B,aAAe,IACjD7B,KAAKJ,KAAOkC,KAAKC,IAAI/B,KAAKJ,KAA6C,KAAvCG,EAAKiC,aAAejC,EAAK8B,cAAmB9B,EAAK8B,cACjF7B,KAAKJ,KAAOkC,KAAKG,IAAI,EAAEjC,KAAKJ,QAEhCsC,wBACI,IAAInC,EAAOC,KAAKD,KAChBC,KAAKJ,KAA0B,IAAjBG,EAAK6B,UAAmB7B,EAAK8B,cAE/CzB,6BACIJ,KAAKmC,qBACDC,IAAIC,EACAtC,EAAOC,EAAKD,KAChBsC,EAAwC,IAApBtC,EAAK8B,aAAqB9B,EAAKiC,aACnDhC,EAAKL,WAAc0C,EAAmB,IAAQA,EAAmB,IAAO,MAGhFC,uBACI,OAAQrB,OAAQjB,KAAKL,WAAW4C,UAAW,cAAcvC,KAAKJ,KAAK"}